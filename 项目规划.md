
### é¡¹ç›®åç§°
æµ™æ±Ÿè´¢ç»å¤§å­¦å¤šä¸“ä¸šæ™ºèƒ½è€ƒè¯•ç³»ç»Ÿ

### é¡¹ç›®æè¿°
åŸºäºNext.jså…¨æ ˆæ¡†æ¶å’ŒMongoDBæ•°æ®åº“å¼€å‘çš„é€šç”¨æ™ºèƒ½åŒ–è€ƒè¯•ç»ƒä¹ ç³»ç»Ÿï¼Œæ”¯æŒå¤šä¸“ä¸šå¤šå­¦ç§‘ï¼Œé›†æˆæµ™æ±Ÿè´¢ç»å¤§å­¦Agentå¹³å°AIèƒ½åŠ›è¿›è¡Œè¯•å·è§£æã€é”™é¢˜åˆ†æå’Œé¢˜ç›®ç”Ÿæˆï¼Œæ”¯æŒä¼ä¸šå¾®ä¿¡éƒ¨ç½²ã€‚é¢å‘æµ™æ±Ÿè´¢ç»å¤§å­¦å¸ˆç”Ÿï¼Œæä¾›å…¨æ–¹ä½çš„æ™ºèƒ½åŒ–æ•™å­¦è¾…åŠ©æœåŠ¡ã€‚

### æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **åç«¯**: Next.js API Routes
- **æ•°æ®åº“**: MongoDB
- **UIæ¡†æ¶**: Tailwind CSS + shadcn/ui
- **AIæœåŠ¡**: æµ™æ±Ÿè´¢ç»å¤§å­¦Agentå¹³å° (æ™ºèƒ½åŒ–æ•™å­¦è¾…åŠ©å¹³å°)
- **éƒ¨ç½²å¹³å°**: ä¼ä¸šå¾®ä¿¡ + è‡ªå»ºæœåŠ¡å™¨
- **ç”¨æˆ·è§„æ¨¡**: 30ä¸ªå¹¶å‘ç”¨æˆ·ï¼ˆå°è§„æ¨¡éƒ¨ç½²ï¼‰

## åŠŸèƒ½æ¶æ„è®¾è®¡

### 1. ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä¼ä¸šå¾®ä¿¡ç«¯     â”‚    â”‚   Webå‰ç«¯       â”‚    â”‚   ç®¡ç†åå°       â”‚
â”‚   (ç§»åŠ¨è‡ªé€‚åº”)   â”‚    â”‚   (å“åº”å¼)      â”‚    â”‚   (æ•™å¸ˆ/ç®¡ç†å‘˜)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              Next.js APIå±‚                   â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
          â”‚  â”‚ ç”¨æˆ·è®¤è¯API â”‚  â”‚  æµ™è´¢Agentå¹³å°API       â”‚â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ è¯•å·è§£æ Agent     â”‚â”‚â”‚
          â”‚  â”‚ é¢˜ç›®ç®¡ç†API â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ é”™é¢˜åˆ†æ Agent     â”‚â”‚â”‚
          â”‚  â”‚ ç»ƒä¹ è€ƒè¯•API â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ é¢˜ç›®ç”Ÿæˆ Agent     â”‚â”‚â”‚
          â”‚  â”‚ å­¦ç§‘ç®¡ç†API â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              MongoDBæ•°æ®åº“                  â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
          â”‚  â”‚ ç”¨æˆ·é›†åˆ    â”‚  â”‚     é¢˜åº“é›†åˆ             â”‚â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
          â”‚  â”‚ ç»ƒä¹ è®°å½•    â”‚  â”‚     é”™é¢˜é›†åˆ             â”‚â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
          â”‚  â”‚ å­¦ç§‘é›†åˆ    â”‚  â”‚     çŸ¥è¯†ç‚¹é›†åˆ           â”‚â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 2.1 ç”¨æˆ·ç»ƒä¹ æ¨¡å—
- **çœŸé¢˜ç»ƒä¹ **: å†å¹´çœŸé¢˜ç»ƒä¹ ï¼ˆæ”¯æŒå¤šä¸“ä¸šå¤šå­¦ç§‘ï¼‰
- **ä¸“é¡¹ç»ƒä¹ **: æŒ‰ç…§é¢˜å‹è”ç³»
- **æ¨¡æ‹Ÿè€ƒè¯•**: å®Œæ•´æ¨¡æ‹Ÿè€ƒè¯•æµç¨‹
- **ç»ƒä¹ è®°å½•**: ç”¨æˆ·ç»ƒä¹ å†å²å’Œæˆç»©ç»Ÿè®¡
- **å¤šå­¦ç§‘æ”¯æŒ**: åŒä¸€ç”¨æˆ·å¯å­¦ä¹ å¤šä¸ªä¸“ä¸š

#### 2.2 AIè§£ææ¨¡å—
- **æ–‡æ¡£è§£æ**: æ”¯æŒPDFã€Wordã€å›¾ç‰‡æ ¼å¼è¯•å·è§£æ
- **é¢˜ç›®ç»“æ„åŒ–**: è‡ªåŠ¨è¯†åˆ«é¢˜å‹ã€é¢˜å¹²ã€é€‰é¡¹ã€ç­”æ¡ˆ
- **çŸ¥è¯†ç‚¹æ ‡æ³¨**: è‡ªåŠ¨æ ‡æ³¨é¢˜ç›®å¯¹åº”çš„å­¦ç§‘çŸ¥è¯†ç‚¹
- **å¤šå­¦ç§‘é€‚é…**: æ ¹æ®ä¸åŒå­¦ç§‘ç‰¹ç‚¹è¿›è¡Œè§£æ

#### 2.3 é”™é¢˜åˆ†ææ¨¡å—
- **é”™é¢˜æ”¶é›†**: è‡ªåŠ¨æ”¶é›†ç”¨æˆ·é”™é¢˜
- **é”™è¯¯åˆ†æ**: AIåˆ†æé”™è¯¯åŸå› å’ŒçŸ¥è¯†ç‚¹è–„å¼±ç¯èŠ‚
- **ä¸ªæ€§åŒ–å»ºè®®**: æä¾›é’ˆå¯¹ä¸åŒå­¦ç§‘çš„å­¦ä¹ å»ºè®®
- **å­¦ä¹ è·¯å¾„**: åŸºäºçŸ¥è¯†ç‚¹å…³è”æ€§æ¨èå­¦ä¹ é¡ºåº


ï¼ˆç¬¬äºŒæœŸç”Ÿæˆï¼‰
#### 2.4 æ™ºèƒ½é¢˜ç›®ç”Ÿæˆæ¨¡å—
- **ç›¸ä¼¼é¢˜ç”Ÿæˆ**: åŸºäºé”™é¢˜ç”Ÿæˆç›¸ä¼¼ç»ƒä¹ é¢˜
- **éš¾åº¦è°ƒèŠ‚**: æ ¹æ®ç”¨æˆ·æ°´å¹³è°ƒæ•´é¢˜ç›®éš¾åº¦
- **çŸ¥è¯†ç‚¹è¦†ç›–**: ç¡®ä¿ç”Ÿæˆé¢˜ç›®è¦†ç›–ç›¸å…³çŸ¥è¯†ç‚¹
- **å­¦ç§‘é€‚é…**: æ ¹æ®ä¸åŒå­¦ç§‘ç‰¹ç‚¹ç”Ÿæˆåˆé€‚é¢˜ç›®



## æ¶æ„å†³ç­–å’Œç”¨æˆ·æƒé™è®¾è®¡

### é¡¹ç›®æ¶æ„å†³ç­–

**æ¨èæ–¹æ¡ˆï¼šå•ä½“æ¶æ„ï¼ˆå‰åå°ç»Ÿä¸€é¡¹ç›®ï¼‰**

åŸºäºä»¥ä¸‹è€ƒè™‘ï¼Œå»ºè®®é‡‡ç”¨å•ä½“æ¶æ„ï¼š

1. **ç”¨æˆ·è§„æ¨¡å°**: 30ä¸ªå¹¶å‘ç”¨æˆ·ï¼Œå•ä½“æ¶æ„å®Œå…¨èƒ½å¤Ÿæ»¡è¶³æ€§èƒ½éœ€æ±‚
2. **å¼€å‘æ•ˆç‡**: å‰åå°åœ¨åŒä¸€é¡¹ç›®ä¸­ï¼Œå¼€å‘ã€éƒ¨ç½²ã€ç»´æŠ¤æ›´ç®€å•
3. **æˆæœ¬æ§åˆ¶**: å‡å°‘æœåŠ¡å™¨èµ„æºå’Œè¿ç»´å¤æ‚åº¦
4. **å¿«é€Ÿè¿­ä»£**: ä¾¿äºéœ€æ±‚å˜æ›´å’ŒåŠŸèƒ½è°ƒæ•´

**é¡¹ç›®ç»“æ„è®¾è®¡ï¼š**
```
æ™ºèƒ½è€ƒè¯•ç³»ç»Ÿ/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (student)/          # å­¦ç”Ÿç«¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ subjects/       # å­¦ç§‘é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ practice/       # ç»ƒä¹ åŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ [subjectId]/ # ç‰¹å®šå­¦ç§‘ç»ƒä¹ 
â”‚   â”‚   â”‚   â””â”€â”€ history/    # ç»ƒä¹ å†å²
â”‚   â”‚   â”œâ”€â”€ wrong-questions/ # é”™é¢˜æœ¬
â”‚   â”‚   â””â”€â”€ profile/        # ä¸ªäººä¸­å¿ƒ
â”‚   â”œâ”€â”€ (teacher)/          # æ•™å¸ˆç«¯é¡µé¢  
â”‚   â”‚   â”œâ”€â”€ question-review/ # é¢˜ç›®å®¡æ ¸
â”‚   â”‚   â”œâ”€â”€ paper-upload/   # è¯•å·ä¸Šä¼ 
â”‚   â”‚   â””â”€â”€ student-progress/ # å­¦ç”Ÿè¿›åº¦
â”‚   â”œâ”€â”€ (admin)/            # ç®¡ç†å‘˜ç«¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ user-management/ # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ subject-management/ # å­¦ç§‘ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ question-bank/   # é¢˜åº“ç®¡ç†
â”‚   â”‚   â””â”€â”€ system-settings/ # ç³»ç»Ÿè®¾ç½®
â”‚   â””â”€â”€ api/                # ç»Ÿä¸€APIæ¥å£
â”‚       â”œâ”€â”€ auth/           # è®¤è¯ç›¸å…³API
â”‚       â”œâ”€â”€ subjects/       # å­¦ç§‘ç›¸å…³API
â”‚       â”œâ”€â”€ questions/      # é¢˜ç›®ç›¸å…³API
â”‚       â”œâ”€â”€ practice/       # ç»ƒä¹ ç›¸å…³API
â”‚       â”œâ”€â”€ ai/             # AIæœåŠ¡API
â”‚       â””â”€â”€ users/          # ç”¨æˆ·ç®¡ç†API
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ student/            # å­¦ç”Ÿç«¯ç»„ä»¶
â”‚   â”œâ”€â”€ teacher/            # æ•™å¸ˆç«¯ç»„ä»¶
â”‚   â”œâ”€â”€ admin/              # ç®¡ç†ç«¯ç»„ä»¶
â”‚   â””â”€â”€ shared/             # å…±äº«ç»„ä»¶
â””â”€â”€ lib/
    â”œâ”€â”€ auth/               # æƒé™æ§åˆ¶
    â”œâ”€â”€ rbac/               # è§’è‰²è®¿é—®æ§åˆ¶
    â”œâ”€â”€ zjcf-agent/         # æµ™æ±Ÿè´¢ç»å¤§å­¦Agentå¹³å°é›†æˆ
    â”œâ”€â”€ database/           # æ•°æ®åº“è¿æ¥
    â””â”€â”€ utils/              # é€šç”¨å·¥å…·
```

### ç”¨æˆ·è§’è‰²æƒé™è®¾è®¡

#### è§’è‰²å®šä¹‰
1. **å­¦ç”Ÿ (student)**: ç»ƒä¹ å’Œå­¦ä¹ åŠŸèƒ½
2. **æ•™å¸ˆ (teacher)**: æ•™å­¦ç®¡ç†å’Œå­¦ç”ŸæŒ‡å¯¼
3. **ç®¡ç†å‘˜ (admin)**: ç³»ç»Ÿç®¡ç†å’Œå†…å®¹ç®¡ç†

#### æƒé™çŸ©é˜µ

| åŠŸèƒ½æ¨¡å— | å­¦ç”Ÿ | æ•™å¸ˆ | ç®¡ç†å‘˜ |
|---------|------|------|--------|
| ç»ƒä¹ é¢˜ç›® | âœ… | âœ… | âœ… |
| æŸ¥çœ‹ä¸ªäººé”™é¢˜åˆ†æ | âœ… | âœ… | âœ… |
| æŸ¥çœ‹å­¦ç”Ÿç»ƒä¹ è¿›åº¦ | âŒ | âœ… | âœ… |
| ç®¡ç†ç­çº§å­¦ç”Ÿ | âŒ | âœ… | âœ… |
| å®¡æ ¸AIç”Ÿæˆé¢˜ç›® | âŒ | âœ… | âœ… |
| æ‰‹åŠ¨ç¼–è¾‘é¢˜ç›® | âŒ | âœ… | âœ… |
| ä¸Šä¼ è¯•å·è§£æ | âŒ | âœ… | âœ… |
| ç”¨æˆ·ç®¡ç† | âŒ | âŒ | âœ… |
| ç³»ç»Ÿé…ç½® | âŒ | âŒ | âœ… |
| AIæœåŠ¡é…ç½® | âŒ | âŒ | âœ… |

#### æƒé™æ§åˆ¶å®ç°
```typescript
// lib/rbac/permissions.ts
export const PERMISSIONS = {
  // å­¦ç”Ÿæƒé™
  PRACTICE_QUESTIONS: 'practice:questions',
  VIEW_OWN_ANALYSIS: 'analysis:view:own',
  
  // æ•™å¸ˆæƒé™
  VIEW_STUDENT_PROGRESS: 'student:progress:view',
  MANAGE_CLASS: 'class:manage',
  REVIEW_QUESTIONS: 'questions:review',
  EDIT_QUESTIONS: 'questions:edit',
  UPLOAD_PAPERS: 'papers:upload',
  
  // ç®¡ç†å‘˜æƒé™
  MANAGE_USERS: 'users:manage',
  SYSTEM_CONFIG: 'system:config',
  AI_CONFIG: 'ai:config',
} as const;

export const ROLE_PERMISSIONS = {
  student: [
    PERMISSIONS.PRACTICE_QUESTIONS,
    PERMISSIONS.VIEW_OWN_ANALYSIS,
  ],
  teacher: [
    PERMISSIONS.PRACTICE_QUESTIONS,
    PERMISSIONS.VIEW_OWN_ANALYSIS,
    PERMISSIONS.VIEW_STUDENT_PROGRESS,
    PERMISSIONS.MANAGE_CLASS,
    PERMISSIONS.REVIEW_QUESTIONS,
    PERMISSIONS.EDIT_QUESTIONS,
    PERMISSIONS.UPLOAD_PAPERS,
  ],
  admin: Object.values(PERMISSIONS),
};
```

#### è·¯ç”±ä¿æŠ¤ä¸­é—´ä»¶
```typescript
// middleware.ts
export function middleware(request: NextRequest) {
  const { pathname } = request.nextUrl;
  
  // è§’è‰²åŸºç¡€è·¯ç”±ä¿æŠ¤
  if (pathname.startsWith('/admin')) {
    return requireRole(['admin']);
  }
  
  if (pathname.startsWith('/teacher')) {
    return requireRole(['teacher', 'admin']);
  }
  
  if (pathname.startsWith('/student')) {
    return requireRole(['student', 'teacher', 'admin']);
  }
  
  // APIæƒé™æ§åˆ¶
  if (pathname.startsWith('/api')) {
    return checkAPIPermission(request);
  }
}
```

## æ•°æ®åº“è®¾è®¡

### 1. ç”¨æˆ·é›†åˆ (users)
```javascript
{
  _id: ObjectId,
  openid: String, // ä¼ä¸šå¾®ä¿¡ç”¨æˆ·æ ‡è¯†
  nickname: String,
  avatar: String,
  role: String, // ç”¨æˆ·è§’è‰²: 'student', 'teacher', 'admin'
  // ä¼ä¸šå¾®ä¿¡æ‰©å±•ä¿¡æ¯ï¼ˆå¾…å®¢æˆ·æä¾›APIæ ¼å¼ï¼‰
  extendedInfo: {
    grade: String, // å¹´çº§
    major: String, // ä¸“ä¸š
    department: String, // éƒ¨é—¨
    studentId: String, // å­¦å·/å·¥å·
  },
  // å­¦ä¹ ç›¸å…³ä¿¡æ¯
  subjects: [{ // å­¦ä¹ çš„ä¸“ä¸š/ç§‘ç›®
    subjectId: String, // ç§‘ç›®ID (å¦‚ "hsk", "cet4", "math", "programming")
    subjectName: String, // ç§‘ç›®åç§°
    level: String, // å½“å‰ç­‰çº§/æ°´å¹³
    targetLevel: String, // ç›®æ ‡ç­‰çº§
    isActive: Boolean // æ˜¯å¦æ­£åœ¨å­¦ä¹ 
  }],
  primarySubject: String, // ä¸»è¦å­¦ä¹ ç§‘ç›®
  registerTime: Date,
  lastLoginTime: Date,
  totalPracticeTime: Number, // æ€»ç»ƒä¹ æ—¶é•¿(åˆ†é’Ÿ)
  practiceCount: Number, // ç»ƒä¹ æ¬¡æ•°
  accuracy: Number, // æ€»ä½“æ­£ç¡®ç‡
  weakKnowledgePoints: [String], // è–„å¼±çŸ¥è¯†ç‚¹
  // æƒé™ç›¸å…³
  permissions: [String], // æƒé™åˆ—è¡¨
  isActive: Boolean, // è´¦å·çŠ¶æ€
  createdBy: ObjectId, // åˆ›å»ºè€…(ç®¡ç†å‘˜)
  lastUpdated: Date
}
```

### 2. é¢˜åº“é›†åˆ (questions)
```javascript
{
  _id: ObjectId,
  questionId: String, // é¢˜ç›®å”¯ä¸€æ ‡è¯†
  type: String, // é¢˜å‹: 'single_choice', 'multiple_choice', 'fill_blank', 'comprehensive', 'listening_choice', 'listening_reading', 'essay', 'calculation'
  // å­¦ç§‘ä¿¡æ¯
  subject: {
    subjectId: String, // å­¦ç§‘ID (å¦‚ "hsk", "cet4", "math", "programming")
    subjectName: String, // å­¦ç§‘åç§°
    level: String, // éš¾åº¦ç­‰çº§/å¹´çº§ (å¦‚ "HSK4", "å¤§å­¦è‹±è¯­å››çº§", "é«˜ç­‰æ•°å­¦ä¸Š")
    chapter: String, // ç« èŠ‚ (å¦‚ "ç¬¬ä¸‰ç«  å‡½æ•°")
    section: String // å°èŠ‚ (å¦‚ "3.1 å‡½æ•°çš„æ¦‚å¿µ")
  },
  difficulty: Number, // éš¾åº¦ç­‰çº§(1-5)
  category: String, // é¢˜ç›®åˆ†ç±» (æ ¹æ®å­¦ç§‘è€Œå®šï¼Œå¦‚è¯­è¨€ç±»: 'è¯æ±‡', 'è¯­æ³•', 'é˜…è¯»'ï¼›ç†ç§‘: 'è®¡ç®—', 'è¯æ˜', 'åº”ç”¨')
  knowledgePoints: [String], // çŸ¥è¯†ç‚¹æ ‡ç­¾
  content: {
    stem: String, // é¢˜å¹²
    options: [String], // é€‰é¡¹(é€‰æ‹©é¢˜)
    blanks: [String], // å¡«ç©º(å¡«ç©ºé¢˜)
    audio: String, // éŸ³é¢‘URL(å¬åŠ›é¢˜)
    images: [String], // å›¾ç‰‡URL
    materials: String // é˜…è¯»ææ–™(é˜…è¯»é¢˜)
  },
  answer: {
    correct: [String], // æ­£ç¡®ç­”æ¡ˆ
    explanation: String, // ç­”æ¡ˆè§£æ
    keyPoints: [String] // å…³é”®çŸ¥è¯†ç‚¹
  },
  statistics: {
    attemptCount: Number, // è¢«ç»ƒä¹ æ¬¡æ•°
    correctCount: Number, // æ­£ç¡®æ¬¡æ•°
    accuracy: Number // æ­£ç¡®ç‡
  },
  source: String, // é¢˜ç›®æ¥æº: 'real_exam', 'practice', 'ai_generated'
  sourceExam: String, // æ¥æºè€ƒè¯•(å¦‚2023å¹´6æœˆHSK4çº§)
  createTime: Date,
  updateTime: Date,
  aiGenerated: Boolean, // æ˜¯å¦AIç”Ÿæˆ
  parentQuestionId: String, // åŸºäºå“ªé“é¢˜ç”Ÿæˆ(AIç”Ÿæˆé¢˜ç›®)
  // é¢˜ç›®å®¡æ ¸å’Œç¼–è¾‘ç›¸å…³
  reviewStatus: String, // å®¡æ ¸çŠ¶æ€: 'pending', 'approved', 'rejected', 'modified'
  reviewedBy: ObjectId, // å®¡æ ¸äººå‘˜ID
  reviewTime: Date, // å®¡æ ¸æ—¶é—´
  reviewComments: String, // å®¡æ ¸æ„è§
  editHistory: [{ // ç¼–è¾‘å†å²
    editedBy: ObjectId,
    editTime: Date,
    changes: Object, // ä¿®æ”¹å†…å®¹
    reason: String // ä¿®æ”¹åŸå› 
  }],
  isActive: Boolean, // æ˜¯å¦æ¿€æ´»ä½¿ç”¨
  qualityScore: Number // é¢˜ç›®è´¨é‡è¯„åˆ†(0-100)
}
```

### 3. ç»ƒä¹ è®°å½•é›†åˆ (practice_records)
```javascript
{
  _id: ObjectId,
  userId: ObjectId,
  sessionId: String, // ç»ƒä¹ ä¼šè¯ID
  practiceType: String, // 'real_exam', 'knowledge_practice', 'mock_exam', 'chapter_practice'
  subject: {
    subjectId: String, // å­¦ç§‘ID
    subjectName: String, // å­¦ç§‘åç§°
    level: String // ç»ƒä¹ çš„ç­‰çº§/å¹´çº§
  },
  knowledgePoint: String, // ä¸“é¡¹ç»ƒä¹ çš„çŸ¥è¯†ç‚¹
  questions: [{
    questionId: ObjectId,
    userAnswer: [String],
    correctAnswer: [String],
    isCorrect: Boolean,
    timeSpent: Number, // ç­”é¢˜ç”¨æ—¶(ç§’)
    submitTime: Date
  }],
  startTime: Date,
  endTime: Date,
  totalTime: Number, // æ€»ç”¨æ—¶(åˆ†é’Ÿ)
  score: Number, // å¾—åˆ†
  accuracy: Number, // æ­£ç¡®ç‡
  completionStatus: String // 'completed', 'interrupted'
}
```

### 4. é”™é¢˜é›†åˆ (wrong_questions)
```javascript
{
  _id: ObjectId,
  userId: ObjectId,
  questionId: ObjectId,
  userAnswer: [String],
  correctAnswer: [String],
  wrongCount: Number, // é”™è¯¯æ¬¡æ•°
  lastWrongTime: Date,
  firstWrongTime: Date,
  aiAnalysis: {
    errorType: String, // é”™è¯¯ç±»å‹
    weaknessArea: String, // è–„å¼±é¢†åŸŸ
    suggestion: String, // AIå»ºè®®
    analysisTime: Date
  },
  mastered: Boolean, // æ˜¯å¦å·²æŒæ¡
  masteredTime: Date,
  generatedQuestions: [ObjectId] // åŸºäºæ­¤é”™é¢˜ç”Ÿæˆçš„ç»ƒä¹ é¢˜
}
```

### 5. å­¦ç§‘é›†åˆ (subjects)
```javascript
{
  _id: ObjectId,
  subjectId: String, // å­¦ç§‘å”¯ä¸€æ ‡è¯† (å¦‚ "hsk", "cet4", "math_advanced", "programming_java")
  name: String, // å­¦ç§‘åç§° (å¦‚ "HSKä¸­æ–‡è€ƒè¯•", "å¤§å­¦è‹±è¯­å››çº§", "é«˜ç­‰æ•°å­¦", "Javaç¼–ç¨‹")
  category: String, // å­¦ç§‘ç±»åˆ« (å¦‚ "è¯­è¨€ç±»", "ç†å·¥ç±»", "æ–‡å²ç±»", "æŠ€èƒ½ç±»")
  description: String, // å­¦ç§‘æè¿°
  levels: [{ // ç­‰çº§/å¹´çº§å®šä¹‰
    levelId: String, // ç­‰çº§ID (å¦‚ "hsk1", "hsk2", "beginner", "intermediate")
    levelName: String, // ç­‰çº§åç§°
    description: String, // ç­‰çº§æè¿°
    order: Number // æ’åº
  }],
  categories: [String], // é¢˜ç›®åˆ†ç±»åˆ—è¡¨ (å¦‚è¯­è¨€ç±»: ["è¯æ±‡", "è¯­æ³•", "é˜…è¯»"]ï¼›ç†ç§‘: ["è®¡ç®—", "è¯æ˜", "åº”ç”¨"])
  questionTypes: [String], // æ”¯æŒçš„é¢˜å‹
  isActive: Boolean, // æ˜¯å¦å¯ç”¨
  createdBy: ObjectId, // åˆ›å»ºè€…
  createTime: Date,
  updateTime: Date,
  // ç»Ÿè®¡ä¿¡æ¯
  statistics: {
    totalQuestions: Number, // æ€»é¢˜ç›®æ•°
    totalUsers: Number, // å­¦ä¹ ç”¨æˆ·æ•°
    avgAccuracy: Number // å¹³å‡æ­£ç¡®ç‡
  }
}
```

### 6. çŸ¥è¯†ç‚¹åº“é›†åˆ (knowledge_points)
```javascript
{
  _id: ObjectId,
  pointId: String, // çŸ¥è¯†ç‚¹ID
  name: String, // çŸ¥è¯†ç‚¹åç§°
  subject: {
    subjectId: String, // å­¦ç§‘ID
    subjectName: String, // å­¦ç§‘åç§°
    level: String // é€‚ç”¨ç­‰çº§/å¹´çº§
  },
  category: String, // åˆ†ç±» (æ ¹æ®å­¦ç§‘è€Œå®š)
  parentPoint: String, // çˆ¶çº§çŸ¥è¯†ç‚¹
  description: String, // çŸ¥è¯†ç‚¹æè¿°
  examples: [String], // ä¾‹å¥/ä¾‹å­/å…¬å¼
  difficulty: Number, // éš¾åº¦ç­‰çº§
  importance: Number, // é‡è¦ç¨‹åº¦
  relatedPoints: [String], // ç›¸å…³çŸ¥è¯†ç‚¹
  questionCount: Number, // ç›¸å…³é¢˜ç›®æ•°é‡
  prerequisites: [String], // å‰ç½®çŸ¥è¯†ç‚¹
  followUps: [String], // åç»­çŸ¥è¯†ç‚¹
  tags: [String], // æ ‡ç­¾ (å¦‚ "åŸºç¡€", "é‡ç‚¹", "éš¾ç‚¹")
  userStatistics: [{
    userId: ObjectId,
    masteryLevel: Number, // æŒæ¡ç¨‹åº¦(0-100)
    practiceCount: Number,
    accuracy: Number,
    lastPracticeTime: Date
  }]
}
```

## AI Agentè®¾è®¡

### æµ™æ±Ÿè´¢ç»å¤§å­¦Agentå¹³å°é›†æˆæ–¹æ¡ˆ

åŸºäºæµ™æ±Ÿè´¢ç»å¤§å­¦Agentå¹³å°ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨ä»¥ä¸‹é›†æˆç­–ç•¥ï¼š

#### æµ™è´¢Agentå¹³å°é›†æˆæ¶æ„
```typescript
// lib/ai/zjcf-agent-client.ts
export class ZJCFAgentClient {
  private apiKey: string;
  private baseURL: string;
  
  constructor(apiKey: string, baseURL: string = 'http://localhost:3000') {
    this.apiKey = apiKey;
    this.baseURL = baseURL;
  }
  
  async callAgent(agentId: string, messages: any[], variables?: Record<string, any>) {
    const response = await fetch(`${this.baseURL}/api/v1/chat/completions`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.apiKey}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        chatId: `chat_${Date.now()}`,
        stream: false,
        detail: false,
        variables: variables || {},
        messages: messages
      })
    });
    
    return response.json();
  }
  
  async parseDocument(documentUrl: string, examInfo: any) {
    return this.callAgent('paper-parse-agent', [
      {
        role: 'user',
        content: `è¯·è§£æä»¥ä¸‹è¯•å·æ–‡æ¡£ï¼š${documentUrl}`
      }
    ], {
      document_url: documentUrl,
      subject_id: examInfo.subjectId,
      subject_name: examInfo.subjectName,
      exam_name: examInfo.examName
    });
  }
  
  async analyzeWrongQuestions(userId: string, wrongQuestions: any[], subject: any) {
    return this.callAgent('error-analysis-agent', [
      {
        role: 'user',
        content: 'è¯·åˆ†æç”¨æˆ·çš„é”™é¢˜æƒ…å†µå¹¶æä¾›å­¦ä¹ å»ºè®®'
      }
    ], {
      user_id: userId,
      wrong_questions: JSON.stringify(wrongQuestions),
      subject_id: subject.subjectId,
      subject_name: subject.subjectName
    });
  }
  
  async generateQuestions(baseQuestion: any, requirements: any) {
    return this.callAgent('question-generation-agent', [
      {
        role: 'user',
        content: 'è¯·åŸºäºç”¨æˆ·é”™é¢˜ç”Ÿæˆç›¸ä¼¼çš„ç»ƒä¹ é¢˜ç›®'
      }
    ], {
      base_question: JSON.stringify(baseQuestion),
      subject_id: requirements.subjectId,
      difficulty: requirements.difficulty,
      count: requirements.count
    });
  }
}
```

### 1. è¯•å·è§£æAgent

#### æç¤ºè¯è®¾è®¡
```
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è€ƒè¯•é¢˜ç›®è§£æä¸“å®¶ï¼Œèƒ½å¤Ÿå¤„ç†å¤šç§ä¸“ä¸šå’Œå­¦ç§‘çš„è€ƒè¯•è¯•å·ã€‚è¯·ä»”ç»†åˆ†æä¸Šä¼ çš„è¯•å·æ–‡æ¡£ï¼Œå°†å…¶ä¸­çš„é¢˜ç›®ç»“æ„åŒ–è¾“å‡ºã€‚

**å½“å‰è§£æä»»åŠ¡ï¼š**
- å­¦ç§‘: {{subject_name}}
- å­¦ç§‘ID: {{subject_id}}
- è€ƒè¯•åç§°: {{exam_name}}

**è§£æè¦æ±‚ï¼š**
1. è¯†åˆ«é¢˜ç›®ç±»å‹ï¼šå•é€‰é¢˜ã€å¤šé€‰é¢˜ã€å¡«ç©ºé¢˜ã€ç»¼åˆé¢˜ã€å¬åŠ›é€‰æ‹©é¢˜ã€å¬åŠ›é˜…è¯»é¢˜ã€è®¡ç®—é¢˜ã€è®ºè¿°é¢˜ç­‰
2. æå–é¢˜ç›®ç»“æ„ï¼šé¢˜å¹²ã€é€‰é¡¹ã€æ­£ç¡®ç­”æ¡ˆ
3. æ ‡æ³¨çŸ¥è¯†ç‚¹ï¼šæ ¹æ®é¢˜ç›®å†…å®¹å’Œæ‰€å±å­¦ç§‘åˆ¤æ–­æ¶‰åŠçš„çŸ¥è¯†ç‚¹
4. åˆ¤æ–­éš¾åº¦ç­‰çº§ï¼šåŸºäºå½“å‰å­¦ç§‘çš„æ ‡å‡†è¯„ä¼°é¢˜ç›®éš¾åº¦(1-5çº§)
5. ç¡®å®šé¢˜ç›®åˆ†ç±»ï¼šæ ¹æ®å­¦ç§‘ç‰¹ç‚¹åˆ†ç±»ï¼ˆå¦‚è¯­è¨€ç±»ï¼šè¯æ±‡ã€è¯­æ³•ã€é˜…è¯»ï¼›ç†ç§‘ï¼šè®¡ç®—ã€è¯æ˜ã€åº”ç”¨ï¼‰
6. æä¾›ç­”æ¡ˆè§£æï¼šç®€æ˜æ‰¼è¦åœ°è§£é‡Šæ­£ç¡®ç­”æ¡ˆ

**è¾“å‡ºæ ¼å¼ï¼š**
è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºï¼Œä¸è¦åŒ…å«ä»»ä½•å…¶ä»–å†…å®¹ï¼š

{
  "questions": [
    {
      "questionId": "é¢˜ç›®å”¯ä¸€æ ‡è¯†",
      "type": "é¢˜å‹(single_choice/multiple_choice/fill_blank/comprehensive/listening_choice/listening_reading/essay/calculation)",
      "subject": {
        "subjectId": "{{subject_id}}",
        "subjectName": "{{subject_name}}",
        "level": "ç­‰çº§/å¹´çº§",
        "chapter": "ç« èŠ‚",
        "section": "å°èŠ‚"
      },
      "difficulty": "éš¾åº¦ç­‰çº§(1-5)",
      "category": "é¢˜ç›®åˆ†ç±»(æ ¹æ®å­¦ç§‘è€Œå®š)",
      "knowledgePoints": ["çŸ¥è¯†ç‚¹1", "çŸ¥è¯†ç‚¹2"],
      "content": {
        "stem": "é¢˜å¹²å†…å®¹",
        "options": ["é€‰é¡¹A", "é€‰é¡¹B", "é€‰é¡¹C", "é€‰é¡¹D"], // é€‰æ‹©é¢˜å¿…å¡«
        "blanks": ["ç©ºæ ¼1ç­”æ¡ˆ", "ç©ºæ ¼2ç­”æ¡ˆ"], // å¡«ç©ºé¢˜å¿…å¡«
        "materials": "é˜…è¯»ææ–™å†…å®¹", // é˜…è¯»é¢˜é€‰å¡«
        "audio": "éŸ³é¢‘æ–‡ä»¶æè¿°", // å¬åŠ›é¢˜é€‰å¡«
        "images": ["å›¾ç‰‡æè¿°1", "å›¾ç‰‡æè¿°2"], // æœ‰å›¾ç‰‡æ—¶å¡«å†™
        "formulas": ["å…¬å¼1", "å…¬å¼2"] // ç†ç§‘é¢˜ç›®çš„å…¬å¼
      },
      "answer": {
        "correct": ["æ­£ç¡®ç­”æ¡ˆ"],
        "explanation": "ç­”æ¡ˆè§£æ",
        "keyPoints": ["å…³é”®çŸ¥è¯†ç‚¹1", "å…³é”®çŸ¥è¯†ç‚¹2"],
        "steps": ["è§£é¢˜æ­¥éª¤1", "è§£é¢˜æ­¥éª¤2"] // ç†ç§‘é¢˜ç›®çš„è§£é¢˜æ­¥éª¤
      }
    }
  ],
  "metadata": {
    "examName": "{{exam_name}}",
    "examDate": "è€ƒè¯•æ—¥æœŸ",
    "subjectId": "{{subject_id}}",
    "subjectName": "{{subject_name}}",
    "totalQuestions": "é¢˜ç›®æ€»æ•°",
    "analysisTime": "è§£ææ—¶é—´æˆ³"
  }
}

è¯·å¼€å§‹è§£ææ–‡æ¡£ä¸­çš„é¢˜ç›®ã€‚
```

#### APIæ¥å£è®¾è®¡
```typescript
// POST /api/ai/parse-paper
interface ParsePaperRequest {
  documentUrl: string;  // æ–‡æ¡£URL
  documentType: 'pdf' | 'word' | 'image';
  examInfo: {
    name: string;        // è€ƒè¯•åç§°
    date: string;        // è€ƒè¯•æ—¥æœŸ
    subjectId: string;   // å­¦ç§‘ID
    subjectName: string; // å­¦ç§‘åç§°
    level?: string;      // éš¾åº¦ç­‰çº§/å¹´çº§
    chapter?: string;    // ç« èŠ‚
  };
}

interface ParsePaperResponse {
  success: boolean;
  data: {
    questions: Question[];
    metadata: ExamMetadata;
  };
  error?: string;
}

// GET /api/subjects - è·å–æ”¯æŒçš„å­¦ç§‘åˆ—è¡¨
interface SubjectsResponse {
  success: boolean;
  data: {
    subjects: Subject[];
  };
}

// POST /api/subjects - åˆ›å»ºæ–°å­¦ç§‘ï¼ˆç®¡ç†å‘˜ï¼‰
interface CreateSubjectRequest {
  subjectId: string;
  name: string;
  category: string;
  description: string;
  levels: SubjectLevel[];
  categories: string[];
  questionTypes: string[];
}
```

### 2. é”™é¢˜åˆ†æAgent

#### æç¤ºè¯è®¾è®¡
```
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å­¦ä¹ åˆ†æå¸ˆï¼Œèƒ½å¤Ÿé’ˆå¯¹ä¸åŒä¸“ä¸šå’Œå­¦ç§‘æä¾›ä¸ªæ€§åŒ–çš„å­¦ä¹ åˆ†æå»ºè®®ã€‚è¯·åˆ†æç”¨æˆ·çš„é”™é¢˜æƒ…å†µï¼Œæä¾›é’ˆå¯¹æ€§çš„å­¦ä¹ å»ºè®®ã€‚

**å½“å‰åˆ†æä»»åŠ¡ï¼š**
- å­¦ç§‘: {{subject_name}}
- å­¦ç§‘ID: {{subject_id}}
- ç”¨æˆ·ID: {{user_id}}

**åˆ†æç»´åº¦ï¼š**
1. é”™è¯¯ç±»å‹åˆ†æï¼šæ¦‚å¿µæ··æ·†ã€ç²—å¿ƒå¤§æ„ã€çŸ¥è¯†ç›²åŒºã€ç†è§£åå·®ã€æ–¹æ³•é”™è¯¯ã€è®¡ç®—é”™è¯¯ç­‰
2. çŸ¥è¯†ç‚¹è–„å¼±åˆ†æï¼šè¯†åˆ«ç”¨æˆ·åœ¨å½“å‰å­¦ç§‘çš„å“ªäº›çŸ¥è¯†ç‚¹ä¸Šå­˜åœ¨é—®é¢˜
3. å­¦ä¹ å»ºè®®ï¼šæ ¹æ®å­¦ç§‘ç‰¹ç‚¹æä¾›é’ˆå¯¹æ€§çš„å­¦ä¹ æ–¹æ³•å’Œç»ƒä¹ å»ºè®®
4. éš¾åº¦è°ƒèŠ‚ï¼šå»ºè®®ä¸‹æ¬¡ç»ƒä¹ çš„éš¾åº¦ç­‰çº§
5. å­¦ä¹ è·¯å¾„ï¼šæ ¹æ®çŸ¥è¯†ç‚¹å…³è”æ€§æ¨èå­¦ä¹ é¡ºåº

**ç”¨æˆ·é”™é¢˜æ•°æ®ï¼š**
- é”™é¢˜ä¿¡æ¯ï¼š{{wrong_questions}}
- å­¦ç§‘ä¿¡æ¯ï¼š{{subject_id}} - {{subject_name}}
- ç”¨æˆ·å­¦ä¹ è®°å½•ï¼šä»å˜é‡ä¸­è·å–

**å­¦ç§‘ç‰¹ç‚¹è€ƒè™‘ï¼š**
- è¯­è¨€ç±»å­¦ç§‘ï¼šæ³¨é‡è¯æ±‡ç§¯ç´¯ã€è¯­æ³•ç†è§£ã€è¯­æ„ŸåŸ¹å…»
- ç†å·¥ç±»å­¦ç§‘ï¼šæ³¨é‡æ¦‚å¿µç†è§£ã€é€»è¾‘æ¨ç†ã€è®¡ç®—å‡†ç¡®æ€§
- æ–‡å²ç±»å­¦ç§‘ï¼šæ³¨é‡çŸ¥è¯†è®°å¿†ã€ç†è§£åˆ†æã€è¡¨è¾¾èƒ½åŠ›
- æŠ€èƒ½ç±»å­¦ç§‘ï¼šæ³¨é‡å®è·µæ“ä½œã€ç»éªŒç§¯ç´¯ã€æŠ€å·§æŒæ¡

**è¾“å‡ºè¦æ±‚ï¼š**
è¯·æŒ‰ç…§ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºåˆ†æç»“æœï¼š

{
  "analysis": {
    "errorPattern": "é”™è¯¯æ¨¡å¼åˆ†æ",
    "weaknessAreas": ["è–„å¼±é¢†åŸŸ1", "è–„å¼±é¢†åŸŸ2"],
    "knowledgeGaps": ["çŸ¥è¯†ç›²åŒº1", "çŸ¥è¯†ç›²åŒº2"],
    "masteryLevel": "æŒæ¡ç¨‹åº¦è¯„ä¼°(0-100)",
    "errorTypes": ["é”™è¯¯ç±»å‹1", "é”™è¯¯ç±»å‹2"],
    "subjectSpecificIssues": "å­¦ç§‘ç‰¹æœ‰é—®é¢˜åˆ†æ"
  },
  "suggestions": {
    "studyPlan": "å­¦ä¹ è®¡åˆ’å»ºè®®",
    "practiceMethod": "ç»ƒä¹ æ–¹æ³•å»ºè®®",
    "focusPoints": ["é‡ç‚¹å…³æ³¨çŸ¥è¯†ç‚¹1", "é‡ç‚¹å…³æ³¨çŸ¥è¯†ç‚¹2"],
    "difficultyAdjustment": "éš¾åº¦è°ƒèŠ‚å»ºè®®",
    "learningPath": ["å­¦ä¹ è·¯å¾„æ­¥éª¤1", "å­¦ä¹ è·¯å¾„æ­¥éª¤2"],
    "timeAllocation": "æ—¶é—´åˆ†é…å»ºè®®"
  },
  "generationHints": {
    "similarQuestionTypes": ["ç›¸ä¼¼é¢˜å‹1", "é¢˜å‹2"],
    "knowledgePointsToFocus": ["çŸ¥è¯†ç‚¹1", "çŸ¥è¯†ç‚¹2"],
    "difficultyRange": [1, 3],
    "questionCount": 3
  }
}
```

#### APIæ¥å£è®¾è®¡
```typescript
// POST /api/ai/analyze-wrong-questions
interface AnalyzeWrongQuestionsRequest {
  userId: string;
  wrongQuestions: WrongQuestion[];
  userProfile: UserProfile;
  practiceHistory: PracticeRecord[];
}

interface AnalyzeWrongQuestionsResponse {
  success: boolean;
  data: {
    analysis: ErrorAnalysis;
    suggestions: StudySuggestions;
    generationHints: QuestionGenerationHints;
  };
  error?: string;
}
```

### 3. é¢˜ç›®ç”ŸæˆAgent

#### æç¤ºè¯è®¾è®¡
```
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„é¢˜ç›®ç”Ÿæˆä¸“å®¶ï¼Œèƒ½å¤Ÿä¸ºä¸åŒä¸“ä¸šå’Œå­¦ç§‘ç”Ÿæˆé«˜è´¨é‡çš„ç»ƒä¹ é¢˜ç›®ã€‚è¯·åŸºäºç”¨æˆ·çš„é”™é¢˜æƒ…å†µå’Œè–„å¼±çŸ¥è¯†ç‚¹ï¼Œç”Ÿæˆç›¸ä¼¼çš„ç»ƒä¹ é¢˜ç›®ã€‚

**å½“å‰ç”Ÿæˆä»»åŠ¡ï¼š**
- å­¦ç§‘: {{subject_name}}
- å­¦ç§‘ID: {{subject_id}}
- ç›®æ ‡éš¾åº¦: {{difficulty}}
- ç”Ÿæˆæ•°é‡: {{count}}

**ç”Ÿæˆè¦æ±‚ï¼š**
1. ä¿æŒä¸åŸé¢˜ç›¸åŒçš„é¢˜å‹å’Œéš¾åº¦ç­‰çº§
2. è¦†ç›–ç›¸åŒçš„çŸ¥è¯†ç‚¹ï¼Œä½†é¢˜ç›®å†…å®¹è¦æœ‰æ‰€å˜åŒ–
3. ç¡®ä¿ç”Ÿæˆçš„é¢˜ç›®ç¬¦åˆå½“å‰å­¦ç§‘çš„æ ‡å‡†å’Œç‰¹ç‚¹
4. ç­”æ¡ˆè¦å‡†ç¡®ï¼Œè§£æè¦æ¸…æ™°
5. æ ¹æ®å­¦ç§‘ç‰¹ç‚¹è°ƒæ•´é¢˜ç›®ç»“æ„ï¼ˆå¦‚ç†ç§‘é¢˜ç›®åŒ…å«è®¡ç®—æ­¥éª¤ï¼Œè¯­è¨€é¢˜ç›®æ³¨é‡è¯­æ„ŸåŸ¹å…»ï¼‰

**å‚è€ƒä¿¡æ¯ï¼š**
- åŸºç¡€é¢˜ç›®ï¼š{{base_question}}
- å­¦ç§‘ä¿¡æ¯ï¼š{{subject_id}} - {{subject_name}}
- éš¾åº¦è¦æ±‚ï¼š{{difficulty}}
- ç”Ÿæˆæ•°é‡ï¼š{{count}}

**å­¦ç§‘ç‰¹ç‚¹è€ƒè™‘ï¼š**
- è¯­è¨€ç±»ï¼šæ³¨é‡è¯­å¢ƒå˜åŒ–ã€è¯æ±‡æ›¿æ¢ã€è¯­æ³•ç»“æ„
- ç†å·¥ç±»ï¼šæ³¨é‡æ•°å€¼å˜åŒ–ã€æ¡ä»¶è°ƒæ•´ã€è§£é¢˜æ–¹æ³•
- æ–‡å²ç±»ï¼šæ³¨é‡èƒŒæ™¯ææ–™ã€è§’åº¦å˜åŒ–ã€åˆ†ææ·±åº¦
- æŠ€èƒ½ç±»ï¼šæ³¨é‡åœºæ™¯å˜åŒ–ã€æ“ä½œæ­¥éª¤ã€å®è·µåº”ç”¨

**è¾“å‡ºæ ¼å¼ï¼š**
è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºï¼š

{
  "generatedQuestions": [
    {
      "questionId": "ç”Ÿæˆé¢˜ç›®å”¯ä¸€æ ‡è¯†",
      "type": "é¢˜å‹",
      "subject": {
        "subjectId": "{{subject_id}}",
        "subjectName": "{{subject_name}}",
        "level": "ç­‰çº§/å¹´çº§",
        "chapter": "ç« èŠ‚",
        "section": "å°èŠ‚"
      },
      "difficulty": "éš¾åº¦ç­‰çº§",
      "category": "é¢˜ç›®åˆ†ç±»",
      "knowledgePoints": ["çŸ¥è¯†ç‚¹1", "çŸ¥è¯†ç‚¹2"],
      "content": {
        "stem": "é¢˜å¹²å†…å®¹",
        "options": ["é€‰é¡¹A", "é€‰é¡¹B", "é€‰é¡¹C", "é€‰é¡¹D"],
        "blanks": ["ç©ºæ ¼ç­”æ¡ˆ"],
        "materials": "é˜…è¯»ææ–™",
        "formulas": ["å…¬å¼1", "å…¬å¼2"], // ç†ç§‘é¢˜ç›®
        "images": ["å›¾ç‰‡æè¿°"] // å¦‚éœ€è¦
      },
      "answer": {
        "correct": ["æ­£ç¡®ç­”æ¡ˆ"],
        "explanation": "è¯¦ç»†è§£æ",
        "keyPoints": ["å…³é”®çŸ¥è¯†ç‚¹"],
        "steps": ["è§£é¢˜æ­¥éª¤1", "è§£é¢˜æ­¥éª¤2"] // ç†ç§‘é¢˜ç›®
      },
      "parentQuestionId": "åŸºäºçš„åŸé¢˜ID",
      "generationReason": "ç”ŸæˆåŸå› è¯´æ˜",
      "aiGenerated": true
    }
  ],
  "metadata": {
    "generationTime": "ç”Ÿæˆæ—¶é—´",
    "totalGenerated": "ç”Ÿæˆé¢˜ç›®æ•°é‡",
    "subjectId": "{{subject_id}}",
    "subjectName": "{{subject_name}}",
    "targetKnowledgePoints": ["ç›®æ ‡çŸ¥è¯†ç‚¹"],
    "difficultyLevel": "{{difficulty}}"
  }
}
```

#### APIæ¥å£è®¾è®¡
```typescript
// POST /api/ai/generate-questions
interface GenerateQuestionsRequest {
  wrongQuestionId: string;
  userId: string;
  targetKnowledgePoints: string[];
  difficultyRange: [number, number];
  questionType: string;
  count: number; // ç”Ÿæˆæ•°é‡
}

interface GenerateQuestionsResponse {
  success: boolean;
  data: {
    generatedQuestions: Question[];
    metadata: GenerationMetadata;
  };
  error?: string;
}
```

## æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### é¢˜ç›®æ‰‹åŠ¨ç¼–è¾‘åŠŸèƒ½

#### ç¼–è¾‘å·¥ä½œæµ
```mermaid
graph TD
    A[AIè§£æç”Ÿæˆé¢˜ç›®] --> B[é¢˜ç›®å…¥åº“-å¾…å®¡æ ¸çŠ¶æ€]
    B --> C[æ•™å¸ˆ/ç®¡ç†å‘˜å®¡æ ¸]
    C --> D{å®¡æ ¸ç»“æœ}
    D -->|é€šè¿‡| E[æ¿€æ´»é¢˜ç›®]
    D -->|éœ€ä¿®æ”¹| F[æ‰‹åŠ¨ç¼–è¾‘é¢˜ç›®]
    D -->|æ‹’ç»| G[æ ‡è®°æ‹’ç»]
    F --> H[è®°å½•ç¼–è¾‘å†å²]
    H --> I[é‡æ–°å®¡æ ¸]
    I --> D
    E --> J[ç”¨æˆ·å¯ç»ƒä¹ ]
```

#### ç¼–è¾‘ç•Œé¢è®¾è®¡
```typescript
// é¢˜ç›®ç¼–è¾‘å™¨ç»„ä»¶
interface QuestionEditorProps {
  question: Question;
  mode: 'review' | 'edit' | 'create';
  onSave: (question: Question) => void;
  onReject: (reason: string) => void;
}

// ç¼–è¾‘åŠŸèƒ½
const QuestionEditor: React.FC<QuestionEditorProps> = ({
  question,
  mode,
  onSave,
  onReject
}) => {
  return (
    <div className="question-editor">
      {/* é¢˜ç›®åŸºæœ¬ä¿¡æ¯ç¼–è¾‘ */}
      <QuestionBasicForm question={question} />
      
      {/* å†…å®¹ç¼–è¾‘å™¨ */}
      <QuestionContentEditor content={question.content} />
      
      {/* ç­”æ¡ˆå’Œè§£æç¼–è¾‘ */}
      <AnswerExplanationEditor answer={question.answer} />
      
      {/* çŸ¥è¯†ç‚¹æ ‡æ³¨ */}
      <KnowledgePointSelector 
        points={question.knowledgePoints} 
        hskLevel={question.hskLevel} 
      />
      
      {/* å®¡æ ¸æ“ä½œ */}
      {mode === 'review' && (
        <ReviewActions 
          onApprove={() => onSave(question)}
          onReject={onReject}
          onModify={() => setMode('edit')}
        />
      )}
    </div>
  );
};
```

### ä¼ä¸šå¾®ä¿¡èº«ä»½ä¿¡æ¯é›†æˆ

#### æ¨¡æ‹Ÿæ•°æ®ç»“æ„ï¼ˆå¾…å®¢æˆ·APIï¼‰
```typescript
// å½“å‰ä½¿ç”¨çš„æ¨¡æ‹Ÿæ•°æ®ç»“æ„
interface MockUserExtendedInfo {
  grade: string; // å¹´çº§ï¼Œå¦‚ "2023çº§"
  major: string; // ä¸“ä¸šï¼Œå¦‚ "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯"
  department: string; // é™¢ç³»ï¼Œå¦‚ "è®¡ç®—æœºå­¦é™¢"
  studentId: string; // å­¦å·ï¼Œå¦‚ "2023001001"
  class: string; // ç­çº§ï¼Œå¦‚ "è®¡ç§‘2301ç­"
}

// æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå™¨ï¼ˆå¼€å‘é˜¶æ®µä½¿ç”¨ï¼‰
export const generateMockUserInfo = (openid: string): MockUserExtendedInfo => {
  const grades = ['2021çº§', '2022çº§', '2023çº§', '2024çº§'];
  const majors = ['è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è½¯ä»¶å·¥ç¨‹', 'äººå·¥æ™ºèƒ½', 'æ•°æ®ç§‘å­¦ä¸å¤§æ•°æ®æŠ€æœ¯'];
  const departments = ['è®¡ç®—æœºå­¦é™¢', 'è½¯ä»¶å­¦é™¢', 'ä¿¡æ¯å­¦é™¢'];
  
  return {
    grade: grades[Math.floor(Math.random() * grades.length)],
    major: majors[Math.floor(Math.random() * majors.length)],
    department: departments[Math.floor(Math.random() * departments.length)],
    studentId: `2023${String(Math.floor(Math.random() * 999999)).padStart(6, '0')}`,
    class: `${majors[0].slice(0, 2)}${grades[0].slice(0, 4)}01ç­`
  };
};

// ä¼ä¸šå¾®ä¿¡APIé€‚é…å™¨ï¼ˆå¾…å®ç°ï¼‰
export class WeChatWorkAPIAdapter {
  async getUserExtendedInfo(openid: string): Promise<MockUserExtendedInfo | null> {
    // TODO: å®ç°çœŸå®çš„ä¼ä¸šå¾®ä¿¡APIè°ƒç”¨
    // å½“å‰è¿”å›æ¨¡æ‹Ÿæ•°æ®
    return generateMockUserInfo(openid);
  }
  
  // é¢„ç•™å®¢æˆ·APIé›†æˆæ¥å£
  async fetchRealUserInfo(openid: string): Promise<any> {
    // å¾…å®¢æˆ·æä¾›APIæ ¼å¼åå®ç°
    throw new Error('Real API not implemented yet');
  }
}
```

## æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—å®ç°

#### ç”¨æˆ·ç»ƒä¹ æ¨¡å—
```typescript
// components/student/PracticeInterface.tsx
interface PracticeInterfaceProps {
  subjectId: string;
  questions: Question[];
  onSubmit: (answers: Answer[]) => void;
}

const PracticeInterface: React.FC<PracticeInterfaceProps> = ({
  subjectId,
  questions,
  onSubmit
}) => {
  // ç»ƒä¹ ç•Œé¢å®ç°
  // æ”¯æŒå¤šç§é¢˜å‹ï¼šå•é€‰ã€å¤šé€‰ã€å¡«ç©ºã€ç»¼åˆç­‰
  // è®¡æ—¶åŠŸèƒ½ã€è‡ªåŠ¨ä¿å­˜ã€é¢˜ç›®å¯¼èˆª
};
```

#### AIé›†æˆæ¨¡å—
```typescript
// lib/zjcf-agent/client.ts
export class ZJCFAgentClient {
  async parseDocument(file: File, subjectInfo: SubjectInfo) {
    // è°ƒç”¨æµ™è´¢Agentå¹³å°è§£æè¯•å·
    const formData = new FormData();
    formData.append('file', file);
    formData.append('subject', JSON.stringify(subjectInfo));
    
    const response = await fetch('/api/ai/parse-paper', {
      method: 'POST',
      body: formData
    });
    
    return response.json();
  }

  async analyzeWrongQuestions(userId: string, wrongQuestions: WrongQuestion[]) {
    // åˆ†æé”™é¢˜ï¼Œç”Ÿæˆå­¦ä¹ å»ºè®®
  }

  async generateSimilarQuestions(baseQuestion: Question, count: number) {
    // åŸºäºé”™é¢˜ç”Ÿæˆç›¸ä¼¼ç»ƒä¹ é¢˜
  }
}
```

#### é¢˜ç›®ç®¡ç†æ¨¡å—
```typescript
// lib/database/questions.ts
export class QuestionManager {
  async createQuestion(questionData: QuestionInput): Promise<Question> {
    // åˆ›å»ºæ–°é¢˜ç›®
  }

  async updateQuestion(questionId: string, updates: Partial<Question>): Promise<Question> {
    // æ›´æ–°é¢˜ç›®ä¿¡æ¯
  }

  async getQuestionsBySubject(subjectId: string, filters?: QuestionFilter): Promise<Question[]> {
    // æŒ‰å­¦ç§‘è·å–é¢˜ç›®
  }

  async reviewQuestion(questionId: string, review: ReviewData): Promise<void> {
    // å®¡æ ¸é¢˜ç›®
  }
}
```

### 2. ä¼ä¸šå¾®ä¿¡é›†æˆ
```typescript
// lib/wechat/auth.ts
export class WeChatWorkAuth {
  async authenticate(code: string): Promise<UserSession> {
    // ä¼ä¸šå¾®ä¿¡OAuthè®¤è¯
    const tokenResponse = await this.getAccessToken(code);
    const userInfo = await this.getUserInfo(tokenResponse.access_token);
    
    return {
      openid: userInfo.openid,
      nickname: userInfo.nickname,
      avatar: userInfo.avatar,
      extendedInfo: await this.getExtendedUserInfo(userInfo.openid)
    };
  }

  async getExtendedUserInfo(openid: string): Promise<ExtendedUserInfo> {
    // è·å–å¹´çº§ã€ä¸“ä¸šç­‰æ‰©å±•ä¿¡æ¯ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
    return generateMockUserInfo(openid);
  }
}
```

### 3. æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
```javascript
// MongoDBç´¢å¼•é…ç½®
db.users.createIndex({ "openid": 1 }, { unique: true });
db.users.createIndex({ "role": 1, "isActive": 1 });

db.questions.createIndex({ "subject.subjectId": 1, "isActive": 1 });
db.questions.createIndex({ "knowledgePoints": 1, "difficulty": 1 });
db.questions.createIndex({ "reviewStatus": 1, "createTime": -1 });

db.practice_records.createIndex({ "userId": 1, "startTime": -1 });
db.practice_records.createIndex({ "subject.subjectId": 1, "completionStatus": 1 });

db.wrong_questions.createIndex({ "userId": 1, "mastered": 1 });
db.wrong_questions.createIndex({ "questionId": 1 });

db.subjects.createIndex({ "subjectId": 1 }, { unique: true });
db.subjects.createIndex({ "category": 1, "isActive": 1 });

db.knowledge_points.createIndex({ "subject.subjectId": 1, "category": 1 });
db.knowledge_points.createIndex({ "pointId": 1 }, { unique: true });
```

### 4. APIè·¯ç”±è®¾è®¡
```typescript
// app/api/practice/[subjectId]/route.ts
export async function GET(
  request: Request,
  { params }: { params: { subjectId: string } }
) {
  const { searchParams } = new URL(request.url);
  const difficulty = searchParams.get('difficulty');
  const category = searchParams.get('category');
  
  // è·å–æŒ‡å®šå­¦ç§‘çš„ç»ƒä¹ é¢˜ç›®
  const questions = await QuestionManager.getQuestionsBySubject(
    params.subjectId,
    { difficulty, category }
  );
  
  return NextResponse.json({ questions });
}

// app/api/ai/analyze-wrong/route.ts
export async function POST(request: Request) {
  const { userId, wrongQuestions, subjectId } = await request.json();
  
  // è°ƒç”¨AIåˆ†æé”™é¢˜
  const analysis = await zjcfAgent.analyzeWrongQuestions(
    userId,
    wrongQuestions,
    { subjectId }
  );
  
  return NextResponse.json({ analysis });
}
```

### 5. å“åº”å¼è®¾è®¡
```css
/* æ ¸å¿ƒæ ·å¼ - ç§»åŠ¨ç«¯ä¼˜å…ˆ */
.question-container {
  @apply w-full p-4 bg-white rounded-lg shadow-sm;
}

.question-options {
  @apply grid grid-cols-1 gap-2 mt-4;
}

/* å¹³æ¿å’Œæ¡Œé¢ç«¯é€‚é… */
@media (min-width: 768px) {
  .question-container {
    @apply max-w-4xl mx-auto p-6;
  }
  
  .question-options {
    @apply grid-cols-2 gap-3;
  }
}

/* ä¼ä¸šå¾®ä¿¡ç‰¹å®šæ ·å¼ */
.wechat-work {
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
  
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
}
```



### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„æ­å»º (2å‘¨)
- [ ] Next.jsé¡¹ç›®åˆå§‹åŒ–
- [ ] MongoDBæ•°æ®åº“è®¾è®¡å’Œæ­å»º
- [ ] å¤šå­¦ç§‘æ”¯æŒçš„æ•°æ®æ¨¡å‹è®¾è®¡
- [ ] åŸºç¡€è®¤è¯ç³»ç»Ÿ
- [ ] ä¼ä¸šå¾®ä¿¡é›†æˆ
- [ ] å“åº”å¼UIæ¡†æ¶æ­å»º

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ (4å‘¨)
- [ ] ç”¨æˆ·è§’è‰²æƒé™ç³»ç»Ÿ
- [ ] å­¦ç§‘ç®¡ç†ç³»ç»Ÿ
- [ ] é¢˜åº“ç®¡ç†ç³»ç»Ÿï¼ˆæ”¯æŒå¤šå­¦ç§‘ï¼‰
- [ ] ç»ƒä¹ æ¨¡å—å¼€å‘ï¼ˆå­¦ç”Ÿç«¯ï¼‰
- [ ] åŸºç¡€ç»Ÿè®¡åŠŸèƒ½
- [ ] ä¼ä¸šå¾®ä¿¡èº«ä»½ä¿¡æ¯é›†æˆï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰

### é˜¶æ®µä¸‰ï¼šAIåŠŸèƒ½é›†æˆ (3å‘¨)
- [ ] æµ™æ±Ÿè´¢ç»å¤§å­¦Agentå¹³å°é›†æˆå’Œé…ç½®
- [ ] è¯•å·è§£æAgentå¼€å‘å’Œè°ƒè¯•
- [ ] é”™é¢˜åˆ†æAgentå¼€å‘å’Œè°ƒè¯•
- [ ] é¢˜ç›®ç”ŸæˆAgentå¼€å‘å’Œè°ƒè¯•
- [ ] å¤šå­¦ç§‘AIæ¨¡å‹é€‚é…
- [ ] é¢˜ç›®æ‰‹åŠ¨ç¼–è¾‘åŠŸèƒ½

### é˜¶æ®µå››ï¼šç®¡ç†ç«¯å¼€å‘ (3å‘¨)
- [ ] æ•™å¸ˆç«¯åŠŸèƒ½å¼€å‘
- [ ] ç®¡ç†å‘˜ç«¯åŠŸèƒ½å¼€å‘
- [ ] é¢˜ç›®å®¡æ ¸å·¥ä½œæµ
- [ ] å­¦ç”Ÿè¿›åº¦ç®¡ç†
- [ ] ç­çº§ç®¡ç†åŠŸèƒ½

### é˜¶æ®µäº”ï¼šé«˜çº§åŠŸèƒ½å’Œä¼˜åŒ– (2å‘¨)
- [ ] ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ
- [ ] é«˜çº§ç»Ÿè®¡åˆ†æ
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨åŠ å›º

### é˜¶æ®µå…­ï¼šæµ‹è¯•å’Œéƒ¨ç½² (2å‘¨)
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å®‰å…¨æµ‹è¯•
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²






## é¡¹ç›®æ€»ç»“ä¸å±•æœ›

### é¡¹ç›®æ ¸å¿ƒä»·å€¼
æµ™æ±Ÿè´¢ç»å¤§å­¦æ™ºèƒ½è€ƒè¯•ç³»ç»Ÿä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„è€ƒè¯•å¹³å°ï¼Œè€Œæ˜¯ä¸€ä¸ª**å…¨æ–¹ä½çš„æ™ºèƒ½åŒ–æ•™å­¦ç”Ÿæ€ç³»ç»Ÿ**ï¼Œå°†ä¸ºæµ™è´¢å¸¦æ¥ä»¥ä¸‹æ ¸å¿ƒä»·å€¼ï¼š

#### ğŸ¯ **æ•™è‚²æ•°å­—åŒ–è½¬å‹æ ‡æ†**
- åœ¨æµ™æ±Ÿçœé«˜æ ¡ä¸­ç‡å…ˆå®ç°AIé©±åŠ¨çš„æ™ºèƒ½åŒ–æ•™å­¦
- å±•ç¤ºæµ™è´¢åœ¨æ•™è‚²åˆ›æ–°é¢†åŸŸçš„å‰ç»æ€§å’Œé¢†å¯¼åŠ›
- ä¸ºå…¶ä»–é«˜æ ¡æä¾›å¯å¤åˆ¶çš„æ•°å­—åŒ–è½¬å‹èŒƒä¾‹

#### ğŸ“Š **æ•°æ®é©±åŠ¨çš„æ•™å­¦é©æ–°**  
- åŸºäºæµ™è´¢Agentå¹³å°çš„æ·±åº¦å­¦ä¹ åˆ†æ
- æ„å»ºä¸“å±äºæµ™è´¢çš„æ•™å­¦çŸ¥è¯†å›¾è°±
- å®ç°ä»ç»éªŒæ•™å­¦åˆ°æ•°æ®é©±åŠ¨æ•™å­¦çš„è½¬å˜

#### ğŸš€ **å¤šä¸“ä¸šå…¨è¦†ç›–çš„æ™ºèƒ½å¹³å°**
- æ”¯æŒç»æµå­¦ã€ç®¡ç†å­¦ã€æ³•å­¦ã€æ–‡å­¦ç­‰å¤šä¸ªå­¦ç§‘
- å¯æ‰©å±•åˆ°æµ™è´¢æ‰€æœ‰ä¸“ä¸šå’Œè¯¾ç¨‹
- çœŸæ­£å®ç°"ä¸€ä¸ªå¹³å°ï¼Œå…¨æ ¡å…±äº«"

#### ğŸ’¡ **æŒç»­è¿›åŒ–çš„AIæ•™å­¦åŠ©æ‰‹**
- éšç€ä½¿ç”¨æ•°æ®å¢åŠ ï¼Œç³»ç»Ÿæ™ºèƒ½åŒ–ç¨‹åº¦ä¸æ–­æå‡
- ä¸ªæ€§åŒ–æ•™å­¦æ–¹æ¡ˆè¶Šæ¥è¶Šç²¾å‡†
- é¢„æµ‹åˆ†æèƒ½åŠ›æŒç»­å¢å¼º

